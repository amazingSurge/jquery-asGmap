/**
* jQuery asGmap v0.3.5
* https://github.com/amazingSurge/jquery-asGmap
*
* Copyright (c) amazingSurge
* Released under the LGPL-3.0 license
*/
!function(o,t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("undefined"!=typeof exports)t(require("jquery"));else{var e={exports:{}};t(o.jQuery),o.jqueryAsGmapEs=e.exports}}(this,function(o){"use strict";function t(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}var e=function(o){return o&&o.__esModule?o:{default:o}}(o),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i=function(){function o(o,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}}(),a={namespace:"gmap",apikey:"",mapType:"ROADMAP",backgroundcolor:"#e5e3df",defaultui:!0,doubleclickzoom:!1,maptypecontrol:!0,maxzoom:null,minzoom:null,pancontrol:!1,rotatecontrol:!1,scalecontrol:!1,scrollwheel:!1,streetviewcontrol:!1,styles:!1,zoom:3,zoomcontrol:!0,controlspositions:{mapType:null,pan:null,rotate:null,scale:null,streetView:null,zoom:null},latitude:null,longitude:null,address:"",markers:[],icon:{url:"http://www.google.com/mapfiles/marker.png",size:[20,34],anchor:[9,34]},markercenter:!0,content:"",popup:!0,onInit:null,onReady:null},r=[],s=!1,l=function(){function o(i,s){t(this,o),this.element=i,this.$element=(0,e.default)(i),this.options=e.default.extend(!0,{},a,s,this.$element.data()),this.namespace=this.options.namespace,this.$element.addClass(this.namespace),this.initialized=!1,this._trigger("init"),"object"===n(window.google)&&window.google.maps?this.init():(r.push(this),this.loadScript())}return i(o,[{key:"loadScript",value:function(){if(!s){s=!0;var o=document.createElement("script");o.type="text/javascript";var t=this.options.apikey?"&key="+this.options.apikey:"";o.src=document.location.protocol+"//maps.googleapis.com/maps/api/js?callback=asGmapOnScriptLoaded"+t,document.body.appendChild(o)}}},{key:"init",value:function(){var o=this,t=this.options,e={backgroundColor:t.backgroundcolor,center:new window.google.maps.LatLng(t.latitude,t.longitude),disableDefaultUI:!t.defaultuI,disableDoubleClickZoom:!t.doubleclickzoom,draggable:!0,keyboardShortcuts:!0,mapTypeControl:t.maptypecontrol,mapTypeControlOptions:{},mapTypeId:window.google.maps.MapTypeId[t.maptype],maxZoom:t.maxzoom,minZoom:t.minzoom,panControl:t.pancontrol,panControlOptions:{},rotateControl:t.rotatecontrol,rotateControlOptions:{},scaleControl:t.scalecontrol,scaleControlOptions:{},scrollwheel:t.scrollwheel,streetViewControl:t.streetviewcontrol,streetViewControlOptions:{},zoom:t.zoom,zoomControl:t.zoomcontrol,zoomControlOptions:{}};t.controlspositions.mapType&&(e.mapTypeControlOptions.position=t.controlspositions.mapType),t.controlspositions.pan&&(e.panControlOptions.position=t.controlspositions.pan),t.controlspositions.rotate&&(e.rotateControlOptions.position=t.controlspositions.rotate),t.controlspositions.scale&&(e.scaleControlOptions.position=t.controlspositions.scale),t.controlspositions.streetView&&(e.streetViewControlOptions.position=t.controlspositions.streetView),t.controlspositions.zoom&&(e.zoomControlOptions.position=t.controlspositions.zoom),t.styles&&(e.styles=t.styles);var n=function(){o.map=new window.google.maps.Map(o.element,e),o.options.markercenter&&o.addMarker({latitude:t.latitude,longitude:t.longitude,address:t.address,content:t.content,popup:t.popup}),o.addMarkers(o.options.markers),o.initialized=!0,o._trigger("ready")};this.geocoder=new window.google.maps.Geocoder,t.address?this.geocoder.geocode({address:t.address},function(o){o&&o.length&&(e.center=o[0].geometry.location),n()}):n()}},{key:"getMap",value:function(){return this.map}},{key:"addMarker",value:function(o){var t=this,n={};o=e.default.extend({icon:this.options.icon,content:"",popup:!1},o),n.icon={url:o.icon.url,size:new window.google.maps.Size(o.icon.size[0],o.icon.size[1]),anchor:new window.google.maps.Point(o.icon.anchor[0],o.icon.anchor[1])};var i=function(){var e=new window.google.maps.Marker(n);if(e.setMap(t.map),o.content){var i=new window.google.maps.InfoWindow({content:'<div class="'+t.namespace+'-content">'+o.content+"</div>"});window.google.maps.event.addListener(e,"click",function(){i.open(t.map,e)}),o.popup&&i.open(t.map,e)}};o.hasOwnProperty("latitude")&&o.hasOwnProperty("longitude")&&o.latitude&&o.longitude?(n.position=new window.google.maps.LatLng(o.latitude,o.longitude),i()):o.hasOwnProperty("address")&&this.geocoder.geocode({address:o.address},function(o){o&&o.length&&(n.position=o[0].geometry.location,i())})}},{key:"addMarkers",value:function(o){for(var t=0;t<o.length;t++)this.addMarker(o[t]);return this.markers}},{key:"_trigger",value:function(o){for(var t=arguments.length,e=Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var i=[this].concat(e);this.$element.trigger("asGmap::"+o,i);var a="on"+(o=o.replace(/\b\w+\b/g,function(o){return o.substring(0,1).toUpperCase()+o.substring(1)}));"function"==typeof this.options[a]&&this.options[a].apply(this,e)}},{key:"destroy",value:function(){this.$element.data("asGmap",null),this._trigger("destroy")}}],[{key:"setDefaults",value:function(o){e.default.extend(!0,a,e.default.isPlainObject(o)&&o)}}]),o}();window.asGmapOnScriptLoaded=function(){var o=!0,t=!1,e=void 0;try{for(var n,i=r[Symbol.iterator]();!(o=(n=i.next()).done);o=!0)n.value.init()}catch(o){t=!0,e=o}finally{try{!o&&i.return&&i.return()}finally{if(t)throw e}}};var p={version:"0.3.5"},c=e.default.fn.asGmap,u=function(o){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if("string"==typeof o){var a=o;if(/^_/.test(a))return!1;if(!/^(get)/.test(a))return this.each(function(){var o=e.default.data(this,"asGmap");o&&"function"==typeof o[a]&&o[a].apply(o,n)});var r=this.first().data("asGmap");if(r&&"function"==typeof r[a])return r[a].apply(r,n)}return this.each(function(){(0,e.default)(this).data("asGmap")||(0,e.default)(this).data("asGmap",new l(this,o))})};e.default.fn.asGmap=u,e.default.asGmap=e.default.extend({setDefaults:l.setDefaults,noConflict:function(){return e.default.fn.asGmap=c,u}},p)});
//# sourceMappingURL=jquery-asGmap.min.js.map
